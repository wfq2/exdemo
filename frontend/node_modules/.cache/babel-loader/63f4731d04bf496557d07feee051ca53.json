{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports.Phoenix = t() : e.Phoenix = t();\n}(this, function () {\n  return function (e) {\n    var t = {};\n\n    function n(i) {\n      if (t[i]) return t[i].exports;\n      var o = t[i] = {\n        i: i,\n        l: !1,\n        exports: {}\n      };\n      return e[i].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, i) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: i\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var i = Object.create(null);\n      if (n.r(i), Object.defineProperty(i, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var o in e) n.d(i, o, function (t) {\n        return e[t];\n      }.bind(null, o));\n      return i;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 0);\n  }([function (e, t, n) {\n    (function (t) {\n      e.exports = t.Phoenix = n(2);\n    }).call(this, n(1));\n  }, function (e, t) {\n    var n;\n\n    n = function () {\n      return this;\n    }();\n\n    try {\n      n = n || Function(\"return this\")() || (0, eval)(\"this\");\n    } catch (e) {\n      \"object\" == typeof window && (n = window);\n    }\n\n    e.exports = n;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function i(e) {\n      return function (e) {\n        if (Array.isArray(e)) {\n          for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];\n\n          return n;\n        }\n      }(e) || function (e) {\n        if (Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e)) return Array.from(e);\n      }(e) || function () {\n        throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n      }();\n    }\n\n    function o(e) {\n      return (o = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function r(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        var n = [],\n            i = !0,\n            o = !1,\n            r = void 0;\n\n        try {\n          for (var s, a = e[Symbol.iterator](); !(i = (s = a.next()).done) && (n.push(s.value), !t || n.length !== t); i = !0);\n        } catch (e) {\n          o = !0, r = e;\n        } finally {\n          try {\n            i || null == a.return || a.return();\n          } finally {\n            if (o) throw r;\n          }\n        }\n\n        return n;\n      }(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }();\n    }\n\n    function s(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function a(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var i = t[n];\n        i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);\n      }\n    }\n\n    function c(e, t, n) {\n      return t && a(e.prototype, t), n && a(e, n), e;\n    }\n\n    n.r(t), n.d(t, \"Channel\", function () {\n      return j;\n    }), n.d(t, \"Serializer\", function () {\n      return C;\n    }), n.d(t, \"Socket\", function () {\n      return R;\n    }), n.d(t, \"LongPoll\", function () {\n      return T;\n    }), n.d(t, \"Ajax\", function () {\n      return w;\n    }), n.d(t, \"Presence\", function () {\n      return E;\n    });\n\n    var u = \"undefined\" != typeof self ? self : null,\n        h = \"undefined\" != typeof window ? window : null,\n        l = u || h || void 0,\n        f = \"2.0.0\",\n        d = {\n      connecting: 0,\n      open: 1,\n      closing: 2,\n      closed: 3\n    },\n        p = 1e4,\n        v = {\n      closed: \"closed\",\n      errored: \"errored\",\n      joined: \"joined\",\n      joining: \"joining\",\n      leaving: \"leaving\"\n    },\n        y = {\n      close: \"phx_close\",\n      error: \"phx_error\",\n      join: \"phx_join\",\n      reply: \"phx_reply\",\n      leave: \"phx_leave\"\n    },\n        g = [y.close, y.error, y.join, y.reply, y.leave],\n        m = {\n      longpoll: \"longpoll\",\n      websocket: \"websocket\"\n    },\n        k = function (e) {\n      if (\"function\" == typeof e) return e;\n      return function () {\n        return e;\n      };\n    },\n        b = function () {\n      function e(t, n, i, o) {\n        s(this, e), this.channel = t, this.event = n, this.payload = i || function () {\n          return {};\n        }, this.receivedResp = null, this.timeout = o, this.timeoutTimer = null, this.recHooks = [], this.sent = !1;\n      }\n\n      return c(e, [{\n        key: \"resend\",\n        value: function (e) {\n          this.timeout = e, this.reset(), this.send();\n        }\n      }, {\n        key: \"send\",\n        value: function () {\n          this.hasReceived(\"timeout\") || (this.startTimeout(), this.sent = !0, this.channel.socket.push({\n            topic: this.channel.topic,\n            event: this.event,\n            payload: this.payload(),\n            ref: this.ref,\n            join_ref: this.channel.joinRef()\n          }));\n        }\n      }, {\n        key: \"receive\",\n        value: function (e, t) {\n          return this.hasReceived(e) && t(this.receivedResp.response), this.recHooks.push({\n            status: e,\n            callback: t\n          }), this;\n        }\n      }, {\n        key: \"reset\",\n        value: function () {\n          this.cancelRefEvent(), this.ref = null, this.refEvent = null, this.receivedResp = null, this.sent = !1;\n        }\n      }, {\n        key: \"matchReceive\",\n        value: function (e) {\n          var t = e.status,\n              n = e.response;\n          e.ref;\n          this.recHooks.filter(function (e) {\n            return e.status === t;\n          }).forEach(function (e) {\n            return e.callback(n);\n          });\n        }\n      }, {\n        key: \"cancelRefEvent\",\n        value: function () {\n          this.refEvent && this.channel.off(this.refEvent);\n        }\n      }, {\n        key: \"cancelTimeout\",\n        value: function () {\n          clearTimeout(this.timeoutTimer), this.timeoutTimer = null;\n        }\n      }, {\n        key: \"startTimeout\",\n        value: function () {\n          var e = this;\n          this.timeoutTimer && this.cancelTimeout(), this.ref = this.channel.socket.makeRef(), this.refEvent = this.channel.replyEventName(this.ref), this.channel.on(this.refEvent, function (t) {\n            e.cancelRefEvent(), e.cancelTimeout(), e.receivedResp = t, e.matchReceive(t);\n          }), this.timeoutTimer = setTimeout(function () {\n            e.trigger(\"timeout\", {});\n          }, this.timeout);\n        }\n      }, {\n        key: \"hasReceived\",\n        value: function (e) {\n          return this.receivedResp && this.receivedResp.status === e;\n        }\n      }, {\n        key: \"trigger\",\n        value: function (e, t) {\n          this.channel.trigger(this.refEvent, {\n            status: e,\n            response: t\n          });\n        }\n      }]), e;\n    }(),\n        j = function () {\n      function e(t, n, i) {\n        var o = this;\n        s(this, e), this.state = v.closed, this.topic = t, this.params = k(n || {}), this.socket = i, this.bindings = [], this.bindingRef = 0, this.timeout = this.socket.timeout, this.joinedOnce = !1, this.joinPush = new b(this, y.join, this.params, this.timeout), this.pushBuffer = [], this.stateChangeRefs = [], this.rejoinTimer = new S(function () {\n          o.socket.isConnected() && o.rejoin();\n        }, this.socket.rejoinAfterMs), this.stateChangeRefs.push(this.socket.onError(function () {\n          return o.rejoinTimer.reset();\n        })), this.stateChangeRefs.push(this.socket.onOpen(function () {\n          o.rejoinTimer.reset(), o.isErrored() && o.rejoin();\n        })), this.joinPush.receive(\"ok\", function () {\n          o.state = v.joined, o.rejoinTimer.reset(), o.pushBuffer.forEach(function (e) {\n            return e.send();\n          }), o.pushBuffer = [];\n        }), this.joinPush.receive(\"error\", function () {\n          o.state = v.errored, o.socket.isConnected() && o.rejoinTimer.scheduleTimeout();\n        }), this.onClose(function () {\n          o.rejoinTimer.reset(), o.socket.hasLogger() && o.socket.log(\"channel\", \"close \".concat(o.topic, \" \").concat(o.joinRef())), o.state = v.closed, o.socket.remove(o);\n        }), this.onError(function (e) {\n          o.socket.hasLogger() && o.socket.log(\"channel\", \"error \".concat(o.topic), e), o.isJoining() && o.joinPush.reset(), o.state = v.errored, o.socket.isConnected() && o.rejoinTimer.scheduleTimeout();\n        }), this.joinPush.receive(\"timeout\", function () {\n          o.socket.hasLogger() && o.socket.log(\"channel\", \"timeout \".concat(o.topic, \" (\").concat(o.joinRef(), \")\"), o.joinPush.timeout), new b(o, y.leave, k({}), o.timeout).send(), o.state = v.errored, o.joinPush.reset(), o.socket.isConnected() && o.rejoinTimer.scheduleTimeout();\n        }), this.on(y.reply, function (e, t) {\n          o.trigger(o.replyEventName(t), e);\n        });\n      }\n\n      return c(e, [{\n        key: \"join\",\n        value: function () {\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.timeout;\n          if (this.joinedOnce) throw new Error(\"tried to join multiple times. 'join' can only be called a single time per channel instance\");\n          return this.timeout = e, this.joinedOnce = !0, this.rejoin(), this.joinPush;\n        }\n      }, {\n        key: \"onClose\",\n        value: function (e) {\n          this.on(y.close, e);\n        }\n      }, {\n        key: \"onError\",\n        value: function (e) {\n          return this.on(y.error, function (t) {\n            return e(t);\n          });\n        }\n      }, {\n        key: \"on\",\n        value: function (e, t) {\n          var n = this.bindingRef++;\n          return this.bindings.push({\n            event: e,\n            ref: n,\n            callback: t\n          }), n;\n        }\n      }, {\n        key: \"off\",\n        value: function (e, t) {\n          this.bindings = this.bindings.filter(function (n) {\n            return !(n.event === e && (void 0 === t || t === n.ref));\n          });\n        }\n      }, {\n        key: \"canPush\",\n        value: function () {\n          return this.socket.isConnected() && this.isJoined();\n        }\n      }, {\n        key: \"push\",\n        value: function (e, t) {\n          var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.timeout;\n          if (!this.joinedOnce) throw new Error(\"tried to push '\".concat(e, \"' to '\").concat(this.topic, \"' before joining. Use channel.join() before pushing events\"));\n          var i = new b(this, e, function () {\n            return t;\n          }, n);\n          return this.canPush() ? i.send() : (i.startTimeout(), this.pushBuffer.push(i)), i;\n        }\n      }, {\n        key: \"leave\",\n        value: function () {\n          var e = this,\n              t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.timeout;\n          this.rejoinTimer.reset(), this.joinPush.cancelTimeout(), this.state = v.leaving;\n\n          var n = function () {\n            e.socket.hasLogger() && e.socket.log(\"channel\", \"leave \".concat(e.topic)), e.trigger(y.close, \"leave\");\n          },\n              i = new b(this, y.leave, k({}), t);\n\n          return i.receive(\"ok\", function () {\n            return n();\n          }).receive(\"timeout\", function () {\n            return n();\n          }), i.send(), this.canPush() || i.trigger(\"ok\", {}), i;\n        }\n      }, {\n        key: \"onMessage\",\n        value: function (e, t, n) {\n          return t;\n        }\n      }, {\n        key: \"isLifecycleEvent\",\n        value: function (e) {\n          return g.indexOf(e) >= 0;\n        }\n      }, {\n        key: \"isMember\",\n        value: function (e, t, n, i) {\n          return this.topic === e && (!i || i === this.joinRef() || !this.isLifecycleEvent(t) || (this.socket.hasLogger() && this.socket.log(\"channel\", \"dropping outdated message\", {\n            topic: e,\n            event: t,\n            payload: n,\n            joinRef: i\n          }), !1));\n        }\n      }, {\n        key: \"joinRef\",\n        value: function () {\n          return this.joinPush.ref;\n        }\n      }, {\n        key: \"sendJoin\",\n        value: function (e) {\n          this.state = v.joining, this.joinPush.resend(e);\n        }\n      }, {\n        key: \"rejoin\",\n        value: function () {\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.timeout;\n          this.isLeaving() || this.sendJoin(e);\n        }\n      }, {\n        key: \"trigger\",\n        value: function (e, t, n, i) {\n          var o = this.onMessage(e, t, n, i);\n          if (t && !o) throw new Error(\"channel onMessage callbacks must return the payload, modified or unmodified\");\n\n          for (var r = 0; r < this.bindings.length; r++) {\n            var s = this.bindings[r];\n            s.event === e && s.callback(o, n, i || this.joinRef());\n          }\n        }\n      }, {\n        key: \"replyEventName\",\n        value: function (e) {\n          return \"chan_reply_\".concat(e);\n        }\n      }, {\n        key: \"isClosed\",\n        value: function () {\n          return this.state === v.closed;\n        }\n      }, {\n        key: \"isErrored\",\n        value: function () {\n          return this.state === v.errored;\n        }\n      }, {\n        key: \"isJoined\",\n        value: function () {\n          return this.state === v.joined;\n        }\n      }, {\n        key: \"isJoining\",\n        value: function () {\n          return this.state === v.joining;\n        }\n      }, {\n        key: \"isLeaving\",\n        value: function () {\n          return this.state === v.leaving;\n        }\n      }]), e;\n    }(),\n        C = {\n      encode: function (e, t) {\n        var n = [e.join_ref, e.ref, e.topic, e.event, e.payload];\n        return t(JSON.stringify(n));\n      },\n      decode: function (e, t) {\n        var n = r(JSON.parse(e), 5);\n        return t({\n          join_ref: n[0],\n          ref: n[1],\n          topic: n[2],\n          event: n[3],\n          payload: n[4]\n        });\n      }\n    },\n        R = function () {\n      function e(t) {\n        var n = this,\n            i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        s(this, e), this.stateChangeCallbacks = {\n          open: [],\n          close: [],\n          error: [],\n          message: []\n        }, this.channels = [], this.sendBuffer = [], this.ref = 0, this.timeout = i.timeout || p, this.transport = i.transport || l.WebSocket || T, this.defaultEncoder = C.encode, this.defaultDecoder = C.decode, this.closeWasClean = !1, this.unloaded = !1, this.binaryType = i.binaryType || \"arraybuffer\", this.transport !== T ? (this.encode = i.encode || this.defaultEncoder, this.decode = i.decode || this.defaultDecoder) : (this.encode = this.defaultEncoder, this.decode = this.defaultDecoder), h && h.addEventListener && h.addEventListener(\"unload\", function (e) {\n          n.conn && (n.unloaded = !0, n.abnormalClose(\"unloaded\"));\n        }), this.heartbeatIntervalMs = i.heartbeatIntervalMs || 3e4, this.rejoinAfterMs = function (e) {\n          return i.rejoinAfterMs ? i.rejoinAfterMs(e) : [1e3, 2e3, 5e3][e - 1] || 1e4;\n        }, this.reconnectAfterMs = function (e) {\n          return n.unloaded ? 100 : i.reconnectAfterMs ? i.reconnectAfterMs(e) : [10, 50, 100, 150, 200, 250, 500, 1e3, 2e3][e - 1] || 5e3;\n        }, this.logger = i.logger || null, this.longpollerTimeout = i.longpollerTimeout || 2e4, this.params = k(i.params || {}), this.endPoint = \"\".concat(t, \"/\").concat(m.websocket), this.vsn = i.vsn || f, this.heartbeatTimer = null, this.pendingHeartbeatRef = null, this.reconnectTimer = new S(function () {\n          n.teardown(function () {\n            return n.connect();\n          });\n        }, this.reconnectAfterMs);\n      }\n\n      return c(e, [{\n        key: \"protocol\",\n        value: function () {\n          return location.protocol.match(/^https/) ? \"wss\" : \"ws\";\n        }\n      }, {\n        key: \"endPointURL\",\n        value: function () {\n          var e = w.appendParams(w.appendParams(this.endPoint, this.params()), {\n            vsn: this.vsn\n          });\n          return \"/\" !== e.charAt(0) ? e : \"/\" === e.charAt(1) ? \"\".concat(this.protocol(), \":\").concat(e) : \"\".concat(this.protocol(), \"://\").concat(location.host).concat(e);\n        }\n      }, {\n        key: \"disconnect\",\n        value: function (e, t, n) {\n          this.closeWasClean = !0, this.reconnectTimer.reset(), this.teardown(e, t, n);\n        }\n      }, {\n        key: \"connect\",\n        value: function (e) {\n          var t = this;\n          e && (console && console.log(\"passing params to connect is deprecated. Instead pass :params to the Socket constructor\"), this.params = k(e)), this.conn || (this.closeWasClean = !1, this.conn = new this.transport(this.endPointURL()), this.conn.binaryType = this.binaryType, this.conn.timeout = this.longpollerTimeout, this.conn.onopen = function () {\n            return t.onConnOpen();\n          }, this.conn.onerror = function (e) {\n            return t.onConnError(e);\n          }, this.conn.onmessage = function (e) {\n            return t.onConnMessage(e);\n          }, this.conn.onclose = function (e) {\n            return t.onConnClose(e);\n          });\n        }\n      }, {\n        key: \"log\",\n        value: function (e, t, n) {\n          this.logger(e, t, n);\n        }\n      }, {\n        key: \"hasLogger\",\n        value: function () {\n          return null !== this.logger;\n        }\n      }, {\n        key: \"onOpen\",\n        value: function (e) {\n          var t = this.makeRef();\n          return this.stateChangeCallbacks.open.push([t, e]), t;\n        }\n      }, {\n        key: \"onClose\",\n        value: function (e) {\n          var t = this.makeRef();\n          return this.stateChangeCallbacks.close.push([t, e]), t;\n        }\n      }, {\n        key: \"onError\",\n        value: function (e) {\n          var t = this.makeRef();\n          return this.stateChangeCallbacks.error.push([t, e]), t;\n        }\n      }, {\n        key: \"onMessage\",\n        value: function (e) {\n          var t = this.makeRef();\n          return this.stateChangeCallbacks.message.push([t, e]), t;\n        }\n      }, {\n        key: \"onConnOpen\",\n        value: function () {\n          this.hasLogger() && this.log(\"transport\", \"connected to \".concat(this.endPointURL())), this.unloaded = !1, this.closeWasClean = !1, this.flushSendBuffer(), this.reconnectTimer.reset(), this.resetHeartbeat(), this.stateChangeCallbacks.open.forEach(function (e) {\n            return (0, r(e, 2)[1])();\n          });\n        }\n      }, {\n        key: \"resetHeartbeat\",\n        value: function () {\n          var e = this;\n          this.conn && this.conn.skipHeartbeat || (this.pendingHeartbeatRef = null, clearInterval(this.heartbeatTimer), this.heartbeatTimer = setInterval(function () {\n            return e.sendHeartbeat();\n          }, this.heartbeatIntervalMs));\n        }\n      }, {\n        key: \"teardown\",\n        value: function (e, t, n) {\n          this.conn && (this.conn.onclose = function () {}, t ? this.conn.close(t, n || \"\") : this.conn.close(), this.conn = null), e && e();\n        }\n      }, {\n        key: \"onConnClose\",\n        value: function (e) {\n          this.hasLogger() && this.log(\"transport\", \"close\", e), this.triggerChanError(), clearInterval(this.heartbeatTimer), this.closeWasClean || this.reconnectTimer.scheduleTimeout(), this.stateChangeCallbacks.close.forEach(function (t) {\n            return (0, r(t, 2)[1])(e);\n          });\n        }\n      }, {\n        key: \"onConnError\",\n        value: function (e) {\n          this.hasLogger() && this.log(\"transport\", e), this.triggerChanError(), this.stateChangeCallbacks.error.forEach(function (t) {\n            return (0, r(t, 2)[1])(e);\n          });\n        }\n      }, {\n        key: \"triggerChanError\",\n        value: function () {\n          this.channels.forEach(function (e) {\n            e.isErrored() || e.isLeaving() || e.isClosed() || e.trigger(y.error);\n          });\n        }\n      }, {\n        key: \"connectionState\",\n        value: function () {\n          switch (this.conn && this.conn.readyState) {\n            case d.connecting:\n              return \"connecting\";\n\n            case d.open:\n              return \"open\";\n\n            case d.closing:\n              return \"closing\";\n\n            default:\n              return \"closed\";\n          }\n        }\n      }, {\n        key: \"isConnected\",\n        value: function () {\n          return \"open\" === this.connectionState();\n        }\n      }, {\n        key: \"remove\",\n        value: function (e) {\n          this.off(e.stateChangeRefs), this.channels = this.channels.filter(function (t) {\n            return t.joinRef() !== e.joinRef();\n          });\n        }\n      }, {\n        key: \"off\",\n        value: function (e) {\n          for (var t in this.stateChangeCallbacks) this.stateChangeCallbacks[t] = this.stateChangeCallbacks[t].filter(function (t) {\n            var n = r(t, 1)[0];\n            return !e.includes(n);\n          });\n        }\n      }, {\n        key: \"channel\",\n        value: function (e) {\n          var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n              n = new j(e, t, this);\n          return this.channels.push(n), n;\n        }\n      }, {\n        key: \"push\",\n        value: function (e) {\n          var t = this;\n\n          if (this.hasLogger()) {\n            var n = e.topic,\n                i = e.event,\n                o = e.payload,\n                r = e.ref,\n                s = e.join_ref;\n            this.log(\"push\", \"\".concat(n, \" \").concat(i, \" (\").concat(s, \", \").concat(r, \")\"), o);\n          }\n\n          this.isConnected() ? this.encode(e, function (e) {\n            return t.conn.send(e);\n          }) : this.sendBuffer.push(function () {\n            return t.encode(e, function (e) {\n              return t.conn.send(e);\n            });\n          });\n        }\n      }, {\n        key: \"makeRef\",\n        value: function () {\n          var e = this.ref + 1;\n          return e === this.ref ? this.ref = 0 : this.ref = e, this.ref.toString();\n        }\n      }, {\n        key: \"sendHeartbeat\",\n        value: function () {\n          if (this.isConnected()) {\n            if (this.pendingHeartbeatRef) return this.pendingHeartbeatRef = null, this.hasLogger() && this.log(\"transport\", \"heartbeat timeout. Attempting to re-establish connection\"), void this.abnormalClose(\"heartbeat timeout\");\n            this.pendingHeartbeatRef = this.makeRef(), this.push({\n              topic: \"phoenix\",\n              event: \"heartbeat\",\n              payload: {},\n              ref: this.pendingHeartbeatRef\n            });\n          }\n        }\n      }, {\n        key: \"abnormalClose\",\n        value: function (e) {\n          this.closeWasClean = !1, this.conn.close(1e3, e);\n        }\n      }, {\n        key: \"flushSendBuffer\",\n        value: function () {\n          this.isConnected() && this.sendBuffer.length > 0 && (this.sendBuffer.forEach(function (e) {\n            return e();\n          }), this.sendBuffer = []);\n        }\n      }, {\n        key: \"onConnMessage\",\n        value: function (e) {\n          var t = this;\n          this.decode(e.data, function (e) {\n            var n = e.topic,\n                i = e.event,\n                o = e.payload,\n                s = e.ref,\n                a = e.join_ref;\n            s && s === t.pendingHeartbeatRef && (t.pendingHeartbeatRef = null), t.hasLogger() && t.log(\"receive\", \"\".concat(o.status || \"\", \" \").concat(n, \" \").concat(i, \" \").concat(s && \"(\" + s + \")\" || \"\"), o);\n\n            for (var c = 0; c < t.channels.length; c++) {\n              var u = t.channels[c];\n              u.isMember(n, i, o, a) && u.trigger(i, o, s, a);\n            }\n\n            for (var h = 0; h < t.stateChangeCallbacks.message.length; h++) {\n              (0, r(t.stateChangeCallbacks.message[h], 2)[1])(e);\n            }\n          });\n        }\n      }]), e;\n    }(),\n        T = function () {\n      function e(t) {\n        s(this, e), this.endPoint = null, this.token = null, this.skipHeartbeat = !0, this.onopen = function () {}, this.onerror = function () {}, this.onmessage = function () {}, this.onclose = function () {}, this.pollEndpoint = this.normalizeEndpoint(t), this.readyState = d.connecting, this.poll();\n      }\n\n      return c(e, [{\n        key: \"normalizeEndpoint\",\n        value: function (e) {\n          return e.replace(\"ws://\", \"http://\").replace(\"wss://\", \"https://\").replace(new RegExp(\"(.*)/\" + m.websocket), \"$1/\" + m.longpoll);\n        }\n      }, {\n        key: \"endpointURL\",\n        value: function () {\n          return w.appendParams(this.pollEndpoint, {\n            token: this.token\n          });\n        }\n      }, {\n        key: \"closeAndRetry\",\n        value: function () {\n          this.close(), this.readyState = d.connecting;\n        }\n      }, {\n        key: \"ontimeout\",\n        value: function () {\n          this.onerror(\"timeout\"), this.closeAndRetry();\n        }\n      }, {\n        key: \"poll\",\n        value: function () {\n          var e = this;\n          this.readyState !== d.open && this.readyState !== d.connecting || w.request(\"GET\", this.endpointURL(), \"application/json\", null, this.timeout, this.ontimeout.bind(this), function (t) {\n            if (t) {\n              var n = t.status,\n                  i = t.token,\n                  o = t.messages;\n              e.token = i;\n            } else n = 0;\n\n            switch (n) {\n              case 200:\n                o.forEach(function (t) {\n                  return e.onmessage({\n                    data: t\n                  });\n                }), e.poll();\n                break;\n\n              case 204:\n                e.poll();\n                break;\n\n              case 410:\n                e.readyState = d.open, e.onopen(), e.poll();\n                break;\n\n              case 0:\n              case 500:\n                e.onerror(), e.closeAndRetry();\n                break;\n\n              default:\n                throw new Error(\"unhandled poll status \".concat(n));\n            }\n          });\n        }\n      }, {\n        key: \"send\",\n        value: function (e) {\n          var t = this;\n          w.request(\"POST\", this.endpointURL(), \"application/json\", e, this.timeout, this.onerror.bind(this, \"timeout\"), function (e) {\n            e && 200 === e.status || (t.onerror(e && e.status), t.closeAndRetry());\n          });\n        }\n      }, {\n        key: \"close\",\n        value: function (e, t) {\n          this.readyState = d.closed, this.onclose();\n        }\n      }]), e;\n    }(),\n        w = function () {\n      function e() {\n        s(this, e);\n      }\n\n      return c(e, null, [{\n        key: \"request\",\n        value: function (e, t, n, i, o, r, s) {\n          if (l.XDomainRequest) {\n            var a = new XDomainRequest();\n            this.xdomainRequest(a, e, t, i, o, r, s);\n          } else {\n            var c = l.XMLHttpRequest ? new l.XMLHttpRequest() : new ActiveXObject(\"Microsoft.XMLHTTP\");\n            this.xhrRequest(c, e, t, n, i, o, r, s);\n          }\n        }\n      }, {\n        key: \"xdomainRequest\",\n        value: function (e, t, n, i, o, r, s) {\n          var a = this;\n          e.timeout = o, e.open(t, n), e.onload = function () {\n            var t = a.parseJSON(e.responseText);\n            s && s(t);\n          }, r && (e.ontimeout = r), e.onprogress = function () {}, e.send(i);\n        }\n      }, {\n        key: \"xhrRequest\",\n        value: function (e, t, n, i, o, r, s, a) {\n          var c = this;\n          e.open(t, n, !0), e.timeout = r, e.setRequestHeader(\"Content-Type\", i), e.onerror = function () {\n            a && a(null);\n          }, e.onreadystatechange = function () {\n            if (e.readyState === c.states.complete && a) {\n              var t = c.parseJSON(e.responseText);\n              a(t);\n            }\n          }, s && (e.ontimeout = s), e.send(o);\n        }\n      }, {\n        key: \"parseJSON\",\n        value: function (e) {\n          if (!e || \"\" === e) return null;\n\n          try {\n            return JSON.parse(e);\n          } catch (t) {\n            return console && console.log(\"failed to parse JSON response\", e), null;\n          }\n        }\n      }, {\n        key: \"serialize\",\n        value: function (e, t) {\n          var n = [];\n\n          for (var i in e) if (e.hasOwnProperty(i)) {\n            var r = t ? \"\".concat(t, \"[\").concat(i, \"]\") : i,\n                s = e[i];\n            \"object\" === o(s) ? n.push(this.serialize(s, r)) : n.push(encodeURIComponent(r) + \"=\" + encodeURIComponent(s));\n          }\n\n          return n.join(\"&\");\n        }\n      }, {\n        key: \"appendParams\",\n        value: function (e, t) {\n          if (0 === Object.keys(t).length) return e;\n          var n = e.match(/\\?/) ? \"&\" : \"?\";\n          return \"\".concat(e).concat(n).concat(this.serialize(t));\n        }\n      }]), e;\n    }();\n\n    w.states = {\n      complete: 4\n    };\n\n    var E = function () {\n      function e(t) {\n        var n = this,\n            i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        s(this, e);\n        var o = i.events || {\n          state: \"presence_state\",\n          diff: \"presence_diff\"\n        };\n        this.state = {}, this.pendingDiffs = [], this.channel = t, this.joinRef = null, this.caller = {\n          onJoin: function () {},\n          onLeave: function () {},\n          onSync: function () {}\n        }, this.channel.on(o.state, function (t) {\n          var i = n.caller,\n              o = i.onJoin,\n              r = i.onLeave,\n              s = i.onSync;\n          n.joinRef = n.channel.joinRef(), n.state = e.syncState(n.state, t, o, r), n.pendingDiffs.forEach(function (t) {\n            n.state = e.syncDiff(n.state, t, o, r);\n          }), n.pendingDiffs = [], s();\n        }), this.channel.on(o.diff, function (t) {\n          var i = n.caller,\n              o = i.onJoin,\n              r = i.onLeave,\n              s = i.onSync;\n          n.inPendingSyncState() ? n.pendingDiffs.push(t) : (n.state = e.syncDiff(n.state, t, o, r), s());\n        });\n      }\n\n      return c(e, [{\n        key: \"onJoin\",\n        value: function (e) {\n          this.caller.onJoin = e;\n        }\n      }, {\n        key: \"onLeave\",\n        value: function (e) {\n          this.caller.onLeave = e;\n        }\n      }, {\n        key: \"onSync\",\n        value: function (e) {\n          this.caller.onSync = e;\n        }\n      }, {\n        key: \"list\",\n        value: function (t) {\n          return e.list(this.state, t);\n        }\n      }, {\n        key: \"inPendingSyncState\",\n        value: function () {\n          return !this.joinRef || this.joinRef !== this.channel.joinRef();\n        }\n      }], [{\n        key: \"syncState\",\n        value: function (e, t, n, i) {\n          var o = this,\n              r = this.clone(e),\n              s = {},\n              a = {};\n          return this.map(r, function (e, n) {\n            t[e] || (a[e] = n);\n          }), this.map(t, function (e, t) {\n            var n = r[e];\n\n            if (n) {\n              var i = t.metas.map(function (e) {\n                return e.phx_ref;\n              }),\n                  c = n.metas.map(function (e) {\n                return e.phx_ref;\n              }),\n                  u = t.metas.filter(function (e) {\n                return c.indexOf(e.phx_ref) < 0;\n              }),\n                  h = n.metas.filter(function (e) {\n                return i.indexOf(e.phx_ref) < 0;\n              });\n              u.length > 0 && (s[e] = t, s[e].metas = u), h.length > 0 && (a[e] = o.clone(n), a[e].metas = h);\n            } else s[e] = t;\n          }), this.syncDiff(r, {\n            joins: s,\n            leaves: a\n          }, n, i);\n        }\n      }, {\n        key: \"syncDiff\",\n        value: function (e, t, n, o) {\n          var r = t.joins,\n              s = t.leaves,\n              a = this.clone(e);\n          return n || (n = function () {}), o || (o = function () {}), this.map(r, function (e, t) {\n            var o = a[e];\n\n            if (a[e] = t, o) {\n              var r,\n                  s = a[e].metas.map(function (e) {\n                return e.phx_ref;\n              }),\n                  c = o.metas.filter(function (e) {\n                return s.indexOf(e.phx_ref) < 0;\n              });\n              (r = a[e].metas).unshift.apply(r, i(c));\n            }\n\n            n(e, o, t);\n          }), this.map(s, function (e, t) {\n            var n = a[e];\n\n            if (n) {\n              var i = t.metas.map(function (e) {\n                return e.phx_ref;\n              });\n              n.metas = n.metas.filter(function (e) {\n                return i.indexOf(e.phx_ref) < 0;\n              }), o(e, n, t), 0 === n.metas.length && delete a[e];\n            }\n          }), a;\n        }\n      }, {\n        key: \"list\",\n        value: function (e, t) {\n          return t || (t = function (e, t) {\n            return t;\n          }), this.map(e, function (e, n) {\n            return t(e, n);\n          });\n        }\n      }, {\n        key: \"map\",\n        value: function (e, t) {\n          return Object.getOwnPropertyNames(e).map(function (n) {\n            return t(n, e[n]);\n          });\n        }\n      }, {\n        key: \"clone\",\n        value: function (e) {\n          return JSON.parse(JSON.stringify(e));\n        }\n      }]), e;\n    }(),\n        S = function () {\n      function e(t, n) {\n        s(this, e), this.callback = t, this.timerCalc = n, this.timer = null, this.tries = 0;\n      }\n\n      return c(e, [{\n        key: \"reset\",\n        value: function () {\n          this.tries = 0, clearTimeout(this.timer);\n        }\n      }, {\n        key: \"scheduleTimeout\",\n        value: function () {\n          var e = this;\n          clearTimeout(this.timer), this.timer = setTimeout(function () {\n            e.tries = e.tries + 1, e.callback();\n          }, this.timerCalc(this.tries + 1));\n        }\n      }]), e;\n    }();\n  }]);\n});","map":{"version":3,"sources":["/Users/wyattqueirolo/Wyatt/chat/chat-frontend/node_modules/phoenix/priv/static/phoenix.js"],"names":["e","t","exports","module","define","amd","Phoenix","n","i","o","l","call","m","c","d","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","Function","eval","window","Array","isArray","length","iterator","toString","from","TypeError","constructor","a","next","done","push","return","configurable","writable","key","j","C","R","T","w","E","u","self","h","f","connecting","open","closing","closed","v","errored","joined","joining","leaving","y","close","error","join","reply","leave","g","longpoll","websocket","k","b","channel","event","payload","receivedResp","timeout","timeoutTimer","recHooks","sent","reset","send","hasReceived","startTimeout","socket","topic","ref","join_ref","joinRef","response","status","callback","cancelRefEvent","refEvent","filter","forEach","off","clearTimeout","cancelTimeout","makeRef","replyEventName","on","matchReceive","setTimeout","trigger","state","params","bindings","bindingRef","joinedOnce","joinPush","pushBuffer","stateChangeRefs","rejoinTimer","S","isConnected","rejoin","rejoinAfterMs","onError","onOpen","isErrored","receive","scheduleTimeout","onClose","hasLogger","log","concat","remove","isJoining","arguments","Error","isJoined","canPush","indexOf","isLifecycleEvent","resend","isLeaving","sendJoin","onMessage","encode","JSON","stringify","decode","parse","stateChangeCallbacks","message","channels","sendBuffer","transport","WebSocket","defaultEncoder","defaultDecoder","closeWasClean","unloaded","binaryType","addEventListener","conn","abnormalClose","heartbeatIntervalMs","reconnectAfterMs","logger","longpollerTimeout","endPoint","vsn","heartbeatTimer","pendingHeartbeatRef","reconnectTimer","teardown","connect","location","protocol","match","appendParams","charAt","host","console","endPointURL","onopen","onConnOpen","onerror","onConnError","onmessage","onConnMessage","onclose","onConnClose","flushSendBuffer","resetHeartbeat","skipHeartbeat","clearInterval","setInterval","sendHeartbeat","triggerChanError","isClosed","readyState","connectionState","includes","data","isMember","token","pollEndpoint","normalizeEndpoint","poll","replace","RegExp","closeAndRetry","request","endpointURL","ontimeout","messages","XDomainRequest","xdomainRequest","XMLHttpRequest","ActiveXObject","xhrRequest","onload","parseJSON","responseText","onprogress","setRequestHeader","onreadystatechange","states","complete","serialize","encodeURIComponent","keys","events","diff","pendingDiffs","caller","onJoin","onLeave","onSync","syncState","syncDiff","inPendingSyncState","list","clone","map","metas","phx_ref","joins","leaves","unshift","apply","getOwnPropertyNames","timerCalc","timer","tries"],"mappings":"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","sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.Phoenix=t():e.Phoenix=t()}(this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){(function(t){e.exports=t.Phoenix=n(2)}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){\"use strict\";function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n.r(t),n.d(t,\"Channel\",function(){return j}),n.d(t,\"Serializer\",function(){return C}),n.d(t,\"Socket\",function(){return R}),n.d(t,\"LongPoll\",function(){return T}),n.d(t,\"Ajax\",function(){return w}),n.d(t,\"Presence\",function(){return E});var u=\"undefined\"!=typeof self?self:null,h=\"undefined\"!=typeof window?window:null,l=u||h||void 0,f=\"2.0.0\",d={connecting:0,open:1,closing:2,closed:3},p=1e4,v={closed:\"closed\",errored:\"errored\",joined:\"joined\",joining:\"joining\",leaving:\"leaving\"},y={close:\"phx_close\",error:\"phx_error\",join:\"phx_join\",reply:\"phx_reply\",leave:\"phx_leave\"},g=[y.close,y.error,y.join,y.reply,y.leave],m={longpoll:\"longpoll\",websocket:\"websocket\"},k=function(e){if(\"function\"==typeof e)return e;return function(){return e}},b=function(){function e(t,n,i,o){s(this,e),this.channel=t,this.event=n,this.payload=i||function(){return{}},this.receivedResp=null,this.timeout=o,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}return c(e,[{key:\"resend\",value:function(e){this.timeout=e,this.reset(),this.send()}},{key:\"send\",value:function(){this.hasReceived(\"timeout\")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}},{key:\"receive\",value:function(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}},{key:\"reset\",value:function(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}},{key:\"matchReceive\",value:function(e){var t=e.status,n=e.response;e.ref;this.recHooks.filter(function(e){return e.status===t}).forEach(function(e){return e.callback(n)})}},{key:\"cancelRefEvent\",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:\"cancelTimeout\",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}},{key:\"startTimeout\",value:function(){var e=this;this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,function(t){e.cancelRefEvent(),e.cancelTimeout(),e.receivedResp=t,e.matchReceive(t)}),this.timeoutTimer=setTimeout(function(){e.trigger(\"timeout\",{})},this.timeout)}},{key:\"hasReceived\",value:function(e){return this.receivedResp&&this.receivedResp.status===e}},{key:\"trigger\",value:function(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}}]),e}(),j=function(){function e(t,n,i){var o=this;s(this,e),this.state=v.closed,this.topic=t,this.params=k(n||{}),this.socket=i,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new b(this,y.join,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new S(function(){o.socket.isConnected()&&o.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(function(){return o.rejoinTimer.reset()})),this.stateChangeRefs.push(this.socket.onOpen(function(){o.rejoinTimer.reset(),o.isErrored()&&o.rejoin()})),this.joinPush.receive(\"ok\",function(){o.state=v.joined,o.rejoinTimer.reset(),o.pushBuffer.forEach(function(e){return e.send()}),o.pushBuffer=[]}),this.joinPush.receive(\"error\",function(){o.state=v.errored,o.socket.isConnected()&&o.rejoinTimer.scheduleTimeout()}),this.onClose(function(){o.rejoinTimer.reset(),o.socket.hasLogger()&&o.socket.log(\"channel\",\"close \".concat(o.topic,\" \").concat(o.joinRef())),o.state=v.closed,o.socket.remove(o)}),this.onError(function(e){o.socket.hasLogger()&&o.socket.log(\"channel\",\"error \".concat(o.topic),e),o.isJoining()&&o.joinPush.reset(),o.state=v.errored,o.socket.isConnected()&&o.rejoinTimer.scheduleTimeout()}),this.joinPush.receive(\"timeout\",function(){o.socket.hasLogger()&&o.socket.log(\"channel\",\"timeout \".concat(o.topic,\" (\").concat(o.joinRef(),\")\"),o.joinPush.timeout),new b(o,y.leave,k({}),o.timeout).send(),o.state=v.errored,o.joinPush.reset(),o.socket.isConnected()&&o.rejoinTimer.scheduleTimeout()}),this.on(y.reply,function(e,t){o.trigger(o.replyEventName(t),e)})}return c(e,[{key:\"join\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw new Error(\"tried to join multiple times. 'join' can only be called a single time per channel instance\");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}},{key:\"onClose\",value:function(e){this.on(y.close,e)}},{key:\"onError\",value:function(e){return this.on(y.error,function(t){return e(t)})}},{key:\"on\",value:function(e,t){var n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}},{key:\"off\",value:function(e,t){this.bindings=this.bindings.filter(function(n){return!(n.event===e&&(void 0===t||t===n.ref))})}},{key:\"canPush\",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:\"push\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw new Error(\"tried to push '\".concat(e,\"' to '\").concat(this.topic,\"' before joining. Use channel.join() before pushing events\"));var i=new b(this,e,function(){return t},n);return this.canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}},{key:\"leave\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=v.leaving;var n=function(){e.socket.hasLogger()&&e.socket.log(\"channel\",\"leave \".concat(e.topic)),e.trigger(y.close,\"leave\")},i=new b(this,y.leave,k({}),t);return i.receive(\"ok\",function(){return n()}).receive(\"timeout\",function(){return n()}),i.send(),this.canPush()||i.trigger(\"ok\",{}),i}},{key:\"onMessage\",value:function(e,t,n){return t}},{key:\"isLifecycleEvent\",value:function(e){return g.indexOf(e)>=0}},{key:\"isMember\",value:function(e,t,n,i){return this.topic===e&&(!i||i===this.joinRef()||!this.isLifecycleEvent(t)||(this.socket.hasLogger()&&this.socket.log(\"channel\",\"dropping outdated message\",{topic:e,event:t,payload:n,joinRef:i}),!1))}},{key:\"joinRef\",value:function(){return this.joinPush.ref}},{key:\"sendJoin\",value:function(e){this.state=v.joining,this.joinPush.resend(e)}},{key:\"rejoin\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||this.sendJoin(e)}},{key:\"trigger\",value:function(e,t,n,i){var o=this.onMessage(e,t,n,i);if(t&&!o)throw new Error(\"channel onMessage callbacks must return the payload, modified or unmodified\");for(var r=0;r<this.bindings.length;r++){var s=this.bindings[r];s.event===e&&s.callback(o,n,i||this.joinRef())}}},{key:\"replyEventName\",value:function(e){return\"chan_reply_\".concat(e)}},{key:\"isClosed\",value:function(){return this.state===v.closed}},{key:\"isErrored\",value:function(){return this.state===v.errored}},{key:\"isJoined\",value:function(){return this.state===v.joined}},{key:\"isJoining\",value:function(){return this.state===v.joining}},{key:\"isLeaving\",value:function(){return this.state===v.leaving}}]),e}(),C={encode:function(e,t){var n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))},decode:function(e,t){var n=r(JSON.parse(e),5);return t({join_ref:n[0],ref:n[1],topic:n[2],event:n[3],payload:n[4]})}},R=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=i.timeout||p,this.transport=i.transport||l.WebSocket||T,this.defaultEncoder=C.encode,this.defaultDecoder=C.decode,this.closeWasClean=!1,this.unloaded=!1,this.binaryType=i.binaryType||\"arraybuffer\",this.transport!==T?(this.encode=i.encode||this.defaultEncoder,this.decode=i.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder),h&&h.addEventListener&&h.addEventListener(\"unload\",function(e){n.conn&&(n.unloaded=!0,n.abnormalClose(\"unloaded\"))}),this.heartbeatIntervalMs=i.heartbeatIntervalMs||3e4,this.rejoinAfterMs=function(e){return i.rejoinAfterMs?i.rejoinAfterMs(e):[1e3,2e3,5e3][e-1]||1e4},this.reconnectAfterMs=function(e){return n.unloaded?100:i.reconnectAfterMs?i.reconnectAfterMs(e):[10,50,100,150,200,250,500,1e3,2e3][e-1]||5e3},this.logger=i.logger||null,this.longpollerTimeout=i.longpollerTimeout||2e4,this.params=k(i.params||{}),this.endPoint=\"\".concat(t,\"/\").concat(m.websocket),this.vsn=i.vsn||f,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new S(function(){n.teardown(function(){return n.connect()})},this.reconnectAfterMs)}return c(e,[{key:\"protocol\",value:function(){return location.protocol.match(/^https/)?\"wss\":\"ws\"}},{key:\"endPointURL\",value:function(){var e=w.appendParams(w.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return\"/\"!==e.charAt(0)?e:\"/\"===e.charAt(1)?\"\".concat(this.protocol(),\":\").concat(e):\"\".concat(this.protocol(),\"://\").concat(location.host).concat(e)}},{key:\"disconnect\",value:function(e,t,n){this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,n)}},{key:\"connect\",value:function(e){var t=this;e&&(console&&console.log(\"passing params to connect is deprecated. Instead pass :params to the Socket constructor\"),this.params=k(e)),this.conn||(this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=function(){return t.onConnOpen()},this.conn.onerror=function(e){return t.onConnError(e)},this.conn.onmessage=function(e){return t.onConnMessage(e)},this.conn.onclose=function(e){return t.onConnClose(e)})}},{key:\"log\",value:function(e,t,n){this.logger(e,t,n)}},{key:\"hasLogger\",value:function(){return null!==this.logger}},{key:\"onOpen\",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}},{key:\"onClose\",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}},{key:\"onError\",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}},{key:\"onMessage\",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}},{key:\"onConnOpen\",value:function(){this.hasLogger()&&this.log(\"transport\",\"connected to \".concat(this.endPointURL())),this.unloaded=!1,this.closeWasClean=!1,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(function(e){return(0,r(e,2)[1])()})}},{key:\"resetHeartbeat\",value:function(){var e=this;this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(function(){return e.sendHeartbeat()},this.heartbeatIntervalMs))}},{key:\"teardown\",value:function(e,t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n||\"\"):this.conn.close(),this.conn=null),e&&e()}},{key:\"onConnClose\",value:function(e){this.hasLogger()&&this.log(\"transport\",\"close\",e),this.triggerChanError(),clearInterval(this.heartbeatTimer),this.closeWasClean||this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(function(t){return(0,r(t,2)[1])(e)})}},{key:\"onConnError\",value:function(e){this.hasLogger()&&this.log(\"transport\",e),this.triggerChanError(),this.stateChangeCallbacks.error.forEach(function(t){return(0,r(t,2)[1])(e)})}},{key:\"triggerChanError\",value:function(){this.channels.forEach(function(e){e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(y.error)})}},{key:\"connectionState\",value:function(){switch(this.conn&&this.conn.readyState){case d.connecting:return\"connecting\";case d.open:return\"open\";case d.closing:return\"closing\";default:return\"closed\"}}},{key:\"isConnected\",value:function(){return\"open\"===this.connectionState()}},{key:\"remove\",value:function(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(function(t){return t.joinRef()!==e.joinRef()})}},{key:\"off\",value:function(e){for(var t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(function(t){var n=r(t,1)[0];return!e.includes(n)})}},{key:\"channel\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new j(e,t,this);return this.channels.push(n),n}},{key:\"push\",value:function(e){var t=this;if(this.hasLogger()){var n=e.topic,i=e.event,o=e.payload,r=e.ref,s=e.join_ref;this.log(\"push\",\"\".concat(n,\" \").concat(i,\" (\").concat(s,\", \").concat(r,\")\"),o)}this.isConnected()?this.encode(e,function(e){return t.conn.send(e)}):this.sendBuffer.push(function(){return t.encode(e,function(e){return t.conn.send(e)})})}},{key:\"makeRef\",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:\"sendHeartbeat\",value:function(){if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.hasLogger()&&this.log(\"transport\",\"heartbeat timeout. Attempting to re-establish connection\"),void this.abnormalClose(\"heartbeat timeout\");this.pendingHeartbeatRef=this.makeRef(),this.push({topic:\"phoenix\",event:\"heartbeat\",payload:{},ref:this.pendingHeartbeatRef})}}},{key:\"abnormalClose\",value:function(e){this.closeWasClean=!1,this.conn.close(1e3,e)}},{key:\"flushSendBuffer\",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(function(e){return e()}),this.sendBuffer=[])}},{key:\"onConnMessage\",value:function(e){var t=this;this.decode(e.data,function(e){var n=e.topic,i=e.event,o=e.payload,s=e.ref,a=e.join_ref;s&&s===t.pendingHeartbeatRef&&(t.pendingHeartbeatRef=null),t.hasLogger()&&t.log(\"receive\",\"\".concat(o.status||\"\",\" \").concat(n,\" \").concat(i,\" \").concat(s&&\"(\"+s+\")\"||\"\"),o);for(var c=0;c<t.channels.length;c++){var u=t.channels[c];u.isMember(n,i,o,a)&&u.trigger(i,o,s,a)}for(var h=0;h<t.stateChangeCallbacks.message.length;h++){(0,r(t.stateChangeCallbacks.message[h],2)[1])(e)}})}}]),e}(),T=function(){function e(t){s(this,e),this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(t),this.readyState=d.connecting,this.poll()}return c(e,[{key:\"normalizeEndpoint\",value:function(e){return e.replace(\"ws://\",\"http://\").replace(\"wss://\",\"https://\").replace(new RegExp(\"(.*)/\"+m.websocket),\"$1/\"+m.longpoll)}},{key:\"endpointURL\",value:function(){return w.appendParams(this.pollEndpoint,{token:this.token})}},{key:\"closeAndRetry\",value:function(){this.close(),this.readyState=d.connecting}},{key:\"ontimeout\",value:function(){this.onerror(\"timeout\"),this.closeAndRetry()}},{key:\"poll\",value:function(){var e=this;this.readyState!==d.open&&this.readyState!==d.connecting||w.request(\"GET\",this.endpointURL(),\"application/json\",null,this.timeout,this.ontimeout.bind(this),function(t){if(t){var n=t.status,i=t.token,o=t.messages;e.token=i}else n=0;switch(n){case 200:o.forEach(function(t){return e.onmessage({data:t})}),e.poll();break;case 204:e.poll();break;case 410:e.readyState=d.open,e.onopen(),e.poll();break;case 0:case 500:e.onerror(),e.closeAndRetry();break;default:throw new Error(\"unhandled poll status \".concat(n))}})}},{key:\"send\",value:function(e){var t=this;w.request(\"POST\",this.endpointURL(),\"application/json\",e,this.timeout,this.onerror.bind(this,\"timeout\"),function(e){e&&200===e.status||(t.onerror(e&&e.status),t.closeAndRetry())})}},{key:\"close\",value:function(e,t){this.readyState=d.closed,this.onclose()}}]),e}(),w=function(){function e(){s(this,e)}return c(e,null,[{key:\"request\",value:function(e,t,n,i,o,r,s){if(l.XDomainRequest){var a=new XDomainRequest;this.xdomainRequest(a,e,t,i,o,r,s)}else{var c=l.XMLHttpRequest?new l.XMLHttpRequest:new ActiveXObject(\"Microsoft.XMLHTTP\");this.xhrRequest(c,e,t,n,i,o,r,s)}}},{key:\"xdomainRequest\",value:function(e,t,n,i,o,r,s){var a=this;e.timeout=o,e.open(t,n),e.onload=function(){var t=a.parseJSON(e.responseText);s&&s(t)},r&&(e.ontimeout=r),e.onprogress=function(){},e.send(i)}},{key:\"xhrRequest\",value:function(e,t,n,i,o,r,s,a){var c=this;e.open(t,n,!0),e.timeout=r,e.setRequestHeader(\"Content-Type\",i),e.onerror=function(){a&&a(null)},e.onreadystatechange=function(){if(e.readyState===c.states.complete&&a){var t=c.parseJSON(e.responseText);a(t)}},s&&(e.ontimeout=s),e.send(o)}},{key:\"parseJSON\",value:function(e){if(!e||\"\"===e)return null;try{return JSON.parse(e)}catch(t){return console&&console.log(\"failed to parse JSON response\",e),null}}},{key:\"serialize\",value:function(e,t){var n=[];for(var i in e)if(e.hasOwnProperty(i)){var r=t?\"\".concat(t,\"[\").concat(i,\"]\"):i,s=e[i];\"object\"===o(s)?n.push(this.serialize(s,r)):n.push(encodeURIComponent(r)+\"=\"+encodeURIComponent(s))}return n.join(\"&\")}},{key:\"appendParams\",value:function(e,t){if(0===Object.keys(t).length)return e;var n=e.match(/\\?/)?\"&\":\"?\";return\"\".concat(e).concat(n).concat(this.serialize(t))}}]),e}();w.states={complete:4};var E=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e);var o=i.events||{state:\"presence_state\",diff:\"presence_diff\"};this.state={},this.pendingDiffs=[],this.channel=t,this.joinRef=null,this.caller={onJoin:function(){},onLeave:function(){},onSync:function(){}},this.channel.on(o.state,function(t){var i=n.caller,o=i.onJoin,r=i.onLeave,s=i.onSync;n.joinRef=n.channel.joinRef(),n.state=e.syncState(n.state,t,o,r),n.pendingDiffs.forEach(function(t){n.state=e.syncDiff(n.state,t,o,r)}),n.pendingDiffs=[],s()}),this.channel.on(o.diff,function(t){var i=n.caller,o=i.onJoin,r=i.onLeave,s=i.onSync;n.inPendingSyncState()?n.pendingDiffs.push(t):(n.state=e.syncDiff(n.state,t,o,r),s())})}return c(e,[{key:\"onJoin\",value:function(e){this.caller.onJoin=e}},{key:\"onLeave\",value:function(e){this.caller.onLeave=e}},{key:\"onSync\",value:function(e){this.caller.onSync=e}},{key:\"list\",value:function(t){return e.list(this.state,t)}},{key:\"inPendingSyncState\",value:function(){return!this.joinRef||this.joinRef!==this.channel.joinRef()}}],[{key:\"syncState\",value:function(e,t,n,i){var o=this,r=this.clone(e),s={},a={};return this.map(r,function(e,n){t[e]||(a[e]=n)}),this.map(t,function(e,t){var n=r[e];if(n){var i=t.metas.map(function(e){return e.phx_ref}),c=n.metas.map(function(e){return e.phx_ref}),u=t.metas.filter(function(e){return c.indexOf(e.phx_ref)<0}),h=n.metas.filter(function(e){return i.indexOf(e.phx_ref)<0});u.length>0&&(s[e]=t,s[e].metas=u),h.length>0&&(a[e]=o.clone(n),a[e].metas=h)}else s[e]=t}),this.syncDiff(r,{joins:s,leaves:a},n,i)}},{key:\"syncDiff\",value:function(e,t,n,o){var r=t.joins,s=t.leaves,a=this.clone(e);return n||(n=function(){}),o||(o=function(){}),this.map(r,function(e,t){var o=a[e];if(a[e]=t,o){var r,s=a[e].metas.map(function(e){return e.phx_ref}),c=o.metas.filter(function(e){return s.indexOf(e.phx_ref)<0});(r=a[e].metas).unshift.apply(r,i(c))}n(e,o,t)}),this.map(s,function(e,t){var n=a[e];if(n){var i=t.metas.map(function(e){return e.phx_ref});n.metas=n.metas.filter(function(e){return i.indexOf(e.phx_ref)<0}),o(e,n,t),0===n.metas.length&&delete a[e]}}),a}},{key:\"list\",value:function(e,t){return t||(t=function(e,t){return t}),this.map(e,function(e,n){return t(e,n)})}},{key:\"map\",value:function(e,t){return Object.getOwnPropertyNames(e).map(function(n){return t(n,e[n])})}},{key:\"clone\",value:function(e){return JSON.parse(JSON.stringify(e))}}]),e}(),S=function(){function e(t,n){s(this,e),this.callback=t,this.timerCalc=n,this.timer=null,this.tries=0}return c(e,[{key:\"reset\",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:\"scheduleTimeout\",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){e.tries=e.tries+1,e.callback()},this.timerCalc(this.tries+1))}}]),e}()}])});"]},"metadata":{},"sourceType":"script"}